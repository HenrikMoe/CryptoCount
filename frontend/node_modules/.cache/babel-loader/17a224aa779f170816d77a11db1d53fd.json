{"ast":null,"code":"var _jsxFileName = \"/Users/chase/Desktop/CryptoProjects/CryptoCount-v2/frontend/src/components/Register/RegisterHooks.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { ConfDialog } from \"../components\";\nimport { Form, FormGroup, Button, Alert } from \"react-bootstrap\";\nimport \"./Register.css\"; // Functional component label plus control w/optional help message\n// TODO: remove modal from registration\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FieldGroup = function ({\n  id,\n  label,\n  help,\n  ...props\n}) {\n  return /*#__PURE__*/_jsxDEV(FormGroup, {\n    controlId: id,\n    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Control, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 4\n    }, this), help && /*#__PURE__*/_jsxDEV(Form.Text, {\n      className: \"text-muted\",\n      children: help\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 3\n  }, this);\n};\n\n_c = FieldGroup;\n\nconst RegisterHooks = props => {\n  _s();\n\n  console.log(\"Rendering Register\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n  const [termsAccepted, setTerms] = useState(false); // eslint-disable-next-line\n\n  const [role, setRole] = useState(0);\n  const [offerSignIn, setOffer] = useState(false);\n  const [enableBtn, setBtn] = useState(false);\n\n  let submit = () => {\n    const user = {\n      firstName,\n      lastName,\n      email,\n      password,\n      termsAccepted,\n      role\n    };\n    props.register(user, () => {\n      setOffer(true);\n    });\n  }; // let toggleTerms = (e) => {\n  // \tsetTerms(e.target.value);\n  // };\n  // let signIn = (body, cb) => {\n  // \tprops.signIn(body, cb);\n  // };\n\n\n  useEffect(() => {\n    setBtn(email && lastName && password && password === password2 && termsAccepted);\n  }, [email, lastName, password, password2, termsAccepted]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(FieldGroup, {\n        id: \"email\",\n        type: \"email\",\n        label: \"Email Address\",\n        placeholder: \"Enter email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FieldGroup, {\n        id: \"firstName\",\n        type: \"text\",\n        label: \"First Name\",\n        placeholder: \"Enter first name\",\n        value: firstName,\n        onChange: e => setFirstName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FieldGroup, {\n        id: \"lastName\",\n        type: \"text\",\n        label: \"Last Name\",\n        placeholder: \"Enter last name\",\n        value: lastName,\n        onChange: e => setLastName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FieldGroup, {\n        id: \"password\",\n        type: \"password\",\n        label: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FieldGroup, {\n        id: \"passwordTwo\",\n        type: \"password\",\n        label: \"Repeat Password\",\n        value: password2,\n        onChange: e => setPassword2(e.target.value),\n        required: true,\n        help: \"Repeat your password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n        id: \"termsAccepted\",\n        value: termsAccepted,\n        onChange: e => setTerms(e.target.value),\n        label: \"Do you accept the terms and conditions?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this), password !== password2 ? /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"warning\",\n      children: \"Passwords don't match\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outline-danger\",\n      onClick: () => submit(),\n      disabled: !enableBtn,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(ConfDialog, {\n      show: offerSignIn,\n      title: \"Registration Success\",\n      body: `Would you like to log in as ${email}?`,\n      buttons: [\"YES\", \"NO\"],\n      onClose: answer => {\n        setOffer(true);\n\n        if (answer === \"YES\") {\n          props.signIn({\n            email: email,\n            password: password\n          }, () => props.history.push(\"/\"));\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 3\n  }, this);\n};\n\n_s(RegisterHooks, \"LpCYFWp8fi/LIlrdRd/x3CGdjmo=\");\n\n_c2 = RegisterHooks;\nexport default RegisterHooks;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FieldGroup\");\n$RefreshReg$(_c2, \"RegisterHooks\");","map":{"version":3,"sources":["/Users/chase/Desktop/CryptoProjects/CryptoCount-v2/frontend/src/components/Register/RegisterHooks.jsx"],"names":["React","useState","useEffect","ConfDialog","Form","FormGroup","Button","Alert","FieldGroup","id","label","help","props","RegisterHooks","console","log","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","password2","setPassword2","termsAccepted","setTerms","role","setRole","offerSignIn","setOffer","enableBtn","setBtn","submit","user","register","e","target","value","answer","signIn","history","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ConfDialog } from \"../components\";\nimport { Form, FormGroup, Button, Alert } from \"react-bootstrap\";\n\nimport \"./Register.css\";\n\n// Functional component label plus control w/optional help message\n\n// TODO: remove modal from registration\nconst FieldGroup = function ({ id, label, help, ...props }) {\n\treturn (\n\t\t<FormGroup controlId={id}>\n\t\t\t<Form.Label>{label}</Form.Label>\n\t\t\t<Form.Control {...props} />\n\t\t\t{help && <Form.Text className=\"text-muted\">{help}</Form.Text>}\n\t\t</FormGroup>\n\t);\n};\n\nconst RegisterHooks = (props) => {\n\tconsole.log(\"Rendering Register\");\n\tconst [firstName, setFirstName] = useState(\"\");\n\tconst [lastName, setLastName] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [password2, setPassword2] = useState(\"\");\n\tconst [termsAccepted, setTerms] = useState(false);\n\t// eslint-disable-next-line\n\tconst [role, setRole] = useState(0);\n\tconst [offerSignIn, setOffer] = useState(false);\n\tconst [enableBtn, setBtn] = useState(false);\n\n\tlet submit = () => {\n\t\tconst user = {\n\t\t\tfirstName,\n\t\t\tlastName,\n\t\t\temail,\n\t\t\tpassword,\n\t\t\ttermsAccepted,\n\t\t\trole,\n\t\t};\n\n\t\tprops.register(user, () => {\n\t\t\tsetOffer(true);\n\t\t});\n\t};\n\n\t// let toggleTerms = (e) => {\n\t// \tsetTerms(e.target.value);\n\t// };\n\n\t// let signIn = (body, cb) => {\n\t// \tprops.signIn(body, cb);\n\t// };\n\n\tuseEffect(() => {\n\t\tsetBtn(\n\t\t\temail &&\n\t\t\t\tlastName &&\n\t\t\t\tpassword &&\n\t\t\t\tpassword === password2 &&\n\t\t\t\ttermsAccepted\n\t\t);\n\t}, [email, lastName, password, password2, termsAccepted]);\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<form>\n\t\t\t\t<FieldGroup\n\t\t\t\t\tid=\"email\"\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\tplaceholder=\"Enter email\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\trequired={true}\n\t\t\t\t/>\n\n\t\t\t\t<FieldGroup\n\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tlabel=\"First Name\"\n\t\t\t\t\tplaceholder=\"Enter first name\"\n\t\t\t\t\tvalue={firstName}\n\t\t\t\t\tonChange={(e) => setFirstName(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<FieldGroup\n\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tlabel=\"Last Name\"\n\t\t\t\t\tplaceholder=\"Enter last name\"\n\t\t\t\t\tvalue={lastName}\n\t\t\t\t\tonChange={(e) => setLastName(e.target.value)}\n\t\t\t\t\trequired={true}\n\t\t\t\t/>\n\n\t\t\t\t<FieldGroup\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\trequired={true}\n\t\t\t\t/>\n\n\t\t\t\t<FieldGroup\n\t\t\t\t\tid=\"passwordTwo\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tlabel=\"Repeat Password\"\n\t\t\t\t\tvalue={password2}\n\t\t\t\t\tonChange={(e) => setPassword2(e.target.value)}\n\t\t\t\t\trequired={true}\n\t\t\t\t\thelp=\"Repeat your password\"\n\t\t\t\t/>\n\n\t\t\t\t<Form.Check\n\t\t\t\t\tid=\"termsAccepted\"\n\t\t\t\t\tvalue={termsAccepted}\n\t\t\t\t\tonChange={(e) => setTerms(e.target.value)}\n\t\t\t\t\tlabel=\"Do you accept the terms and conditions?\"\n\t\t\t\t/>\n\t\t\t</form>\n\n\t\t\t{password !== password2 ? (\n\t\t\t\t<Alert variant=\"warning\">Passwords don't match</Alert>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\n\t\t\t<Button\n\t\t\t\tvariant=\"outline-danger\"\n\t\t\t\tonClick={() => submit()}\n\t\t\t\tdisabled={!enableBtn}\n\t\t\t>\n\t\t\t\tSubmit\n\t\t\t</Button>\n\n\t\t\t<ConfDialog\n\t\t\t\tshow={offerSignIn}\n\t\t\t\ttitle=\"Registration Success\"\n\t\t\t\tbody={`Would you like to log in as ${email}?`}\n\t\t\t\tbuttons={[\"YES\", \"NO\"]}\n\t\t\t\tonClose={(answer) => {\n\t\t\t\t\tsetOffer(true);\n\t\t\t\t\tif (answer === \"YES\") {\n\t\t\t\t\t\tprops.signIn({ email: email, password: password }, () =>\n\t\t\t\t\t\t\tprops.history.push(\"/\")\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default RegisterHooks;\n"]},"metadata":{},"sourceType":"module"}